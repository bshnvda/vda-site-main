---
import { tg_links as fallbackLinks } from "@/data/links";
import { keystaticReader } from "@/lib/keystatic";
import { Icon } from "astro-icon/components";
import Container from "./Container.astro";
// @bshnvda

const footerEntry = await keystaticReader.singletons.footer.read();
const tg_links =
	footerEntry?.links?.length
		? footerEntry.links
		: fallbackLinks.map((link) => ({ label: link.label, link: link.link }));
---

<footer class="pb-6">
	<Container class="glass-card px-5 py-8 md:px-8">
		<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
			{
				tg_links &&
					tg_links.map((link) => (
						<a
							href={link.link}
							target="_blank"
							class="rounded-2xl border border-slate-200/80 bg-white/80 px-4 py-3 flex gap-2 items-center text-slate-700 hover:text-blue-700 hover:border-blue-200 transition-colors"
						>
							<Icon name="mdi:telegram" />
							<span>{link.label}</span>
						</a>
					))
			}
		</div>
		<div class="mt-7 pt-5 border-t border-slate-200 flex justify-between flex-wrap gap-3 text-sm text-slate-600">
			<p>
				© {new Date().getFullYear()}
				<a href="https://t.me/bshnvda" class="soft-link ml-1"
					>@bshnvda</a
				>
			</p>
			<a href="https://t.me/legion_free" class="soft-link"
				>Разработка сайтов</a
			>
		</div>
	</Container>
</footer>
